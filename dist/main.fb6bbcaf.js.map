{"version":3,"sources":["js/getRandom.js","js/box.js","js/matrix.js","js/main.js"],"names":["generateRandom","min","arguments","length","undefined","max","difference","rand","Math","random","floor","_matrix","require","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","appElem","document","getElementById","Box","isBomb","coordinates","value","setBoxValue","setBoxType","allNeighbors","getAllNeighbors","bombCount","forEach","neighbor","showBoxValue","boxElem","innerHTML","setFlag","isFlagged","open","isOpenned","classList","remove","onBoxClick","allowOpenNumber","openAllBoxes","createBoxOnArea","_this","createElement","add","concat","addEventListener","e","preventDefault","appendChild","createBox","newBox","_getRandom","_box","matrix","exports","size","addBombs","currentBombCount","matrixHeight","matrixWidth","x","y","matrixElem","_matrix2","_matrix$y","_matrix3","_matrix4","_matrix5","_matrix$y2","_matrix6","n_1","n_2","n_3","n_4","n_5","n_6","n_7","n_8","filter","item","matrixLine","box","setTimer","timerId","setInterval","elapsedTime","innerText","toString","padStart","buildTable","topRow","repeat","cells","Array","from","querySelectorAll","cell","idx","setAttribute","createMatrix","width","height","Boolean","startGame"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["export function generateRandom(min = 0, max = 100) {\r\n    let difference = max - min;\r\n    let rand = Math.random();\r\n    rand = Math.floor(rand * difference);\r\n    rand = rand + min;\r\n    return rand;\r\n}","import { getAllNeighbors, openAllBoxes } from \"./matrix.js\";\r\n\r\nconst appElem = document.getElementById('app')\r\nclass Box {\r\n    constructor(isBomb, coordinates) {\r\n      this.isBomb = isBomb;\r\n      this.coordinates = coordinates;\r\n    }\r\n  \r\n    setBoxValue(value) {\r\n      this.value = value;\r\n    }\r\n  \r\n    setBoxType() {\r\n      if (this.isBomb) {\r\n        this.setBoxValue(\"💣\");\r\n        return;\r\n      }\r\n      const allNeighbors = getAllNeighbors(this.coordinates);\r\n      let bombCount = 0;\r\n  \r\n      allNeighbors.forEach((neighbor) => {\r\n        if (neighbor === 1 || neighbor.isBomb) {\r\n          bombCount++;\r\n        }\r\n      });\r\n  \r\n      if (bombCount) {\r\n        this.setBoxValue(bombCount);\r\n      }\r\n    }\r\n  \r\n    showBoxValue() {\r\n      this.boxElem.innerHTML = this.value || \"\";\r\n    }\r\n  \r\n    setFlag(isFlagged) {\r\n      this.isFlagged = isFlagged;\r\n      this.boxElem.innerHTML = isFlagged ? \"🚩\" : \"\";\r\n    }\r\n  \r\n    open() {\r\n      this.isOpenned = true;\r\n      this.boxElem.classList.remove(\"initial\");\r\n      this.showBoxValue();\r\n    }\r\n  \r\n    onBoxClick(allowOpenNumber = false) {\r\n      if (this.isFlagged) {\r\n        this.setFlag(false);\r\n        return;\r\n      }\r\n  \r\n      if (!this.value && !this.isOpenned) {\r\n        this.open();\r\n        const allNeighbors = getAllNeighbors(this.coordinates);\r\n        allNeighbors.forEach((neighbor) => {\r\n          if (!neighbor.isOpenned) {\r\n            neighbor.onBoxClick(true);\r\n          }\r\n        });\r\n      } else if (\r\n        (this.value && allowOpenNumber) ||\r\n        typeof this.value === \"number\"\r\n      ) {\r\n        this.open();\r\n      } else if (this.isBomb) {\r\n        openAllBoxes();\r\n      }\r\n  \r\n      this.showBoxValue();\r\n    }\r\n  \r\n    createBoxOnArea() {\r\n      const boxElem = document.createElement(\"div\");\r\n      boxElem.classList.add(\"box\");\r\n      boxElem.classList.add(\"initial\");\r\n  \r\n      if (this.value) {\r\n        boxElem.classList.add(`bomb-count-${this.value}`);\r\n      }\r\n  \r\n      this.boxElem = boxElem;\r\n      this.boxElem.addEventListener(\"click\", () => this.onBoxClick());\r\n      this.boxElem.addEventListener(\"contextmenu\", (e) => {\r\n        e.preventDefault();\r\n        this.setFlag(true);\r\n      });\r\n      appElem.appendChild(boxElem);\r\n    }\r\n  }\r\n  \r\n  export function createBox(isBomb, coordinates) {\r\n    const newBox = new Box(isBomb, coordinates);\r\n  \r\n    newBox.setBoxType();\r\n    newBox.createBoxOnArea();\r\n  \r\n    return newBox;\r\n  }\r\n  ","import { generateRandom } from \"./getRandom.js\";\r\nimport { createBox } from \"./box.js\";\r\nexport let matrix = [];\r\nlet size = 16;\r\nconst appElem = document.getElementById('app')\r\n\r\nfunction addBombs(bombCount) {\r\n    let currentBombCount = bombCount\r\n    const matrixHeight = matrix.length\r\n    const matrixWidth = matrix[0].length\r\n\r\n    while (currentBombCount) {\r\n        const x = generateRandom(0, matrixWidth - 1);\r\n        const y = generateRandom(0, matrixHeight - 1);\r\n        const matrixElem = matrix[x][y];\r\n\r\n        if (!matrixElem) {\r\n            matrix[x][y] = 1;\r\n            currentBombCount--;\r\n        }\r\n\r\n    }\r\n}\r\nexport function getAllNeighbors (coordinates) {\r\n    const {x, y} = coordinates\r\n    const n_1 = matrix[y-1]?.[x]\r\n    const n_2 = matrix[y-1]?.[x+1]\r\n    const n_3 = matrix[y]?.[x+1]\r\n    const n_4 = matrix[y+1]?.[x+1]\r\n    const n_5 = matrix[y+1]?.[x]\r\n    const n_6 = matrix[y+1]?.[x-1]\r\n    const n_7 = matrix[y]?.[x-1]\r\n    const n_8 = matrix[y-1]?.[x-1]\r\n\r\n    return [\r\n        n_1,\r\n        n_2,\r\n        n_3,\r\n        n_4,\r\n        n_5,\r\n        n_6,\r\n        n_7,\r\n        n_8,\r\n    ].filter(item => typeof item !== 'undefined')\r\n}\r\n\r\nexport function openAllBoxes() {\r\n    matrix.forEach((matrixLine) => {\r\n      matrixLine.forEach((box) => {\r\n        if (box.isBomb) {\r\n          box.open();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n\r\nfunction setTimer () {\r\n    timerId = setInterval(function(){\r\n      elapsedTime += 1;\r\n      document.getElementById('timer').innerText = elapsedTime.toString().padStart(3, '0');\r\n    }, 1000);\r\n  };\r\n\r\n//   function loadTemplate() {\r\n//     let xhr = new XMLHttpRequest();\r\n//     xhr.open(\"GET\", \"minesweeper_template.html\", false);\r\n//     xhr.send();\r\n\r\n//     if (xhr.status != 200)\r\n//         return;\r\n\r\n//     let wrapper = document.createElement(\"div\");\r\n//     wrapper.innerHTML = xhr.responseText;\r\n//     return wrapper.firstElementChild;\r\n//   }\r\n\r\nfunction buildTable() {\r\n    var topRow = `\r\n        <tr>\r\n        <td class=\"menu\" colspan=\"${size}\">\r\n            <section id=\"status-bar\">\r\n              <div id=\"bomb-counter\">000</div>\r\n              <div id=\"reset\"><img src=\"../images/smiley-face.png\"></div>\r\n              <div id=\"timer\">000</div>\r\n            </section>\r\n        </td>\r\n      </tr>\r\n      `;\r\n    appElem.innerHTML = topRow + `<tr>${'<td class=\"game-cell\"></td>'.repeat(size)}</tr>`.repeat(size);\r\n    // appElem.style.width = sizeLookup[size].tableWidth;\r\n    // createResetListener();\r\n    var cells = Array.from(document.querySelectorAll('td:not(.menu)'));\r\n    cells.forEach(function(cell, idx) {\r\n      cell.setAttribute('data-row', Math.floor(idx / size));\r\n      cell.setAttribute('data-col', idx % size);\r\n    });\r\n  }\r\n\r\n  export function createMatrix (width = 16, height = 16, bombCount = 40) {\r\n    // loadTemplate();\r\n    buildTable();\r\n\r\n    matrix = Array.from({length: height}, () => \r\n      Array.from({length: width }, () => 0)\r\n    );\r\n    addBombs(bombCount);\r\n\r\n    matrix.forEach((matrixLine, y) => {\r\n        matrixLine.forEach((matrixElem, x) => {\r\n            const newBox = createBox(Boolean(matrixElem), { x, y });\r\n            matrix[y][x] = newBox\r\n       });\r\n    });\r\n\r\n};  \r\n","import { createMatrix } from \"./matrix.js\";\r\n\r\nfunction startGame () {\r\n    createMatrix()\r\n}\r\n\r\nstartGame()"]}